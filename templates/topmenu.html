<script>
(function() {
  var styleArg = NJPress.pageArgs()['style'];
  if (styleArg && ['midnight', 'rainbow'].indexOf(styleArg) != -1) {
    localStorage.style = styleArg;
  } else if (!localStorage.style) localStorage.style = '{{ conf.style }}';
  NJPress.replaceStyle(localStorage.style);
})();
</script>
<div id='fixtop'>
    <div class='menu'>
        <span>Navigate</span>
        <ul>
            <li><a href='/'>Home</a></li>
            <li style='max-width: 600px;' onclick='NJPress.loadTagsOnMenu(this)'>
                Click to load post tags
            </li>
        </ul>
    </div>
    <div class='menu'>
        <span>Blogrolls</span>
        <ul>
            {% for r in conf.blogrolls() %}
            <li><a href='{{ r.uri }}'>{{ r.text|escape }}</a></li>
            {% endfor %}
        </ul>
    </div>
    <div class='menu'>
        <span>Styles</span>
        <ul>
            <li><a href='javascript:NJPress.replaceStyle("midnight")'>Midnight</a></li>
            <li><a href='javascript:NJPress.replaceStyle("rainbow")'>Rainbow</a></li>
        </ul>
    </div>
    <div class='menu'>
        <span onmouseover='NJPress.loadPostsOnMenu(this)'>Recent Posts</span>
    </div>
    {% include 'admin_bar.html' %}
    <div class='access'>
        <a class='imglink' href='/about'>
            <img width='32' height='32' alt='About' src='http://images.wikia.com/gardener/images/a/af/Question_mark.png'>
        </a>
    </div>
    <div class='access'>
        <a class='imglink' href='{{ conf.rss_uri }}'>
            <img width='32' height='32' alt='RSS' src='http://upload.wikimedia.org/wikipedia/en/4/43/Feed-icon.svg'>
        </a>
    </div>
</div>
<script>
NJPress.loadTagsOnMenu = function(node) {
  node.onclick = function() {};
  node.innerHTML = '<i>Post tags: </i>';
  node.className = 'tags';
  NJPress.loadTagsIn(node);
};

NJPress.loadPostsOnMenu = function(node) {
  node.onmouseover = function() {};
  var ul = NJPress.newNode('ul');
  node.appendChild(ul);
  NJPress.loadPosts(function(n) {
    var li = NJPress.newNode('li');
    li.appendChild(n);
    ul.appendChild(li);
  });
}
</script>
<div id='menumarginer'></div>
